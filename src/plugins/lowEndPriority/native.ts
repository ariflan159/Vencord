const gloves = {'2124760254': 'Link', '2124760895': 'Moon', '2124760928': 'buddies', '2124807768': 'MEGAROCK', '2124819262': 'Plague', '2124836318': 'Hallow Jack', '2124847850': '[REDACTED]', '2124858899': 'bus', '2124875920': 'Mitten', '2124886261': 'Phase', '2124914780': 'Warp', '2124919840': 'Bomb', '2124930374': 'Jet', '2124938910': 'Shard', '2124989121': 'Potato', '2125850245': 'CULT', '2125950512': 'bob', '2126334003': 'Jupiter', '2126450753': 'Spy', '2126589561': 'Detonator', '2127132894': 'Rage', '2127861437': 'Hybrid', '2127567042': 'Trap', '2127703232': 'Orbit', '2127816588': 'Dominance', '2128012376': 'Slapple', '2128233612': 'Disarm', '2128557186': 'Chain', '2128772719': 'Rattlebones', '2129002959': 'Witch', '2129104684': 'Charge', '2129212145': 'Tycoon', '2129474790': 'Confusion', '2129568267': 'Glitch', '2129648848': 'Snowball', '2129871858': 'Elude', '2130031244': 'RNG', '2130032297': 'fish', '2130155314': 'Moyai', '2130463063': 'Obby', '2132544202': 'Voodoo', '2133016756': 'Goofy', '2136607413': 'Leash', '2140855364': 'Flamarang', '2141386326': 'Kinetic', '2141784233': 'Berserk', '2142826462': 'Sparky', '2143034526': 'Boogie', '2143973603': 'Recall', '2144766764': 'Quake', '2145165421': 'Psycho', '2145381761': 'Kraken', '2146130728': 'Counter', '2146540403': 'Hammer', '2147429609': 'rob', '2148234934': 'Rhythm', '2148480065': 'Rojo', '2148934270': 'Hitman', '2149637240': 'Retro', '2150485950': 'Null', '2151266964': 'Lure', '2152295593': 'Tinkerer', '2152906832': 'Necromancer', '2153473254': 'Alchemist', '2153911928': 'Druid', '2500227230783997': 'Jester', '3318257806017965': 'Scythe', '2895206704788569': 'Santa', '2906002612987222': 'Iceskate', '3335299217032061': 'Blasphemy', '4404799574333856': 'Pan', '1840188608156642': 'Admin', '1662954021427606': 'Joust', '2628581469266954': 'Firework', '1579276416564374': 'Run', '128402905805563': 'Glovel', '342573645147372': 'Divebomb', '490455814138437': 'Lamp', '1962623816699442': 'Knockoff', '1286358044443937': 'Frostbite', '4031317971987872': 'Plank', '2236076719770808': 'Spoonful', '1354956782555226': 'the schlob', '187186758930457': 'Siphon', '2240434593038483': 'Wrench', '4414076328730650': 'Avatar', '154204790800271': 'Relude', '3483144763925839': 'Hunter', '2193861648156971': 'Water', '2657379023348335': 'Fan'}

const ids = [2124760254, 2124760895, 2124760928, 2124807768, 2124819262, 2124836318, 2124847850, 2124858899, 2124875920, 2124886261, 2124914780, 2124919840, 2124930374, 2124938910, 2124989121, 2125850245, 2125950512, 2126334003, 2126450753, 2126589561, 2127132894, 2127861437, 2127567042, 2127703232, 2127816588, 2128012376, 2128233612, 2128557186, 2128772719, 2129002959, 2129104684, 2129212145, 2129474790, 2129568267, 2129648848, 2129871858, 2130031244, 2130032297, 2130155314, 2130463063, 2132544202, 2133016756, 2136607413, 2140855364, 2141386326, 2141784233, 2142826462, 2143034526, 2143973603, 2144766764, 2145165421, 2145381761, 2146130728, 2146540403, 2147429609, 2148234934, 2148480065, 2148934270, 2149637240, 2150485950, 2151266964, 2152295593, 2152906832, 2153473254, 2153911928, 2500227230783997, 3318257806017965, 2895206704788569, 2906002612987222, 3335299217032061, 4404799574333856, 1840188608156642, 1662954021427606, 2628581469266954, 1579276416564374, 128402905805563, 342573645147372, 490455814138437, 1962623816699442, 1286358044443937, 4031317971987872, 2236076719770808, 1354956782555226, 187186758930457, 2240434593038483, 4414076328730650, 154204790800271, 3483144763925839, 2193861648156971, 2657379023348335]

const additional_badges = {'2124743766': 'Welcome', '2124760907': 'Court evidence', '2124760916': 'Duck', '2128220957': 'The Lone Orange', '2124760252': 'Met ten', '2124760875': 'Met snow', '2124760923': 'really?', '2124775097': 'Brazil', '2124912059': 'The Reverse Incident', '2147535393': 'Clipped Wings', '4414399146292319': '1000 Kills'}

const additional_badges_ids = [2124743766, 2124760907, 2124760916, 2128220957, 2124760252, 2124760875, 2124760923, 2124775097, 2124912059, 2147535393, 4414399146292319]


export async function get_gloves(self, username:string): Promise<string[]|null> {
    let response = await fetch('https://users.roblox.com/v1/usernames/users', {
        method: 'POST',
        body: JSON.stringify({
            usernames: [username],
            excludeBannedUsers: false
        })
    })
    if (response.status == 200) {
        let owned: string[] = []
        let userid = response.json()['data'][0]['id']
        let badges_awarded = await fetch(`https://badges.roblox.com/v1/users/${userid}/badges/awarded-dates?badgeIds=${ids.join(',')}`, {method:'GET'})
        for (let badge in badges_awarded.json()['data']) {
            owned.push(gloves[badge['id'].toString()])
        }
        return owned
    }
    return null
}
